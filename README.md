# 1brc-simd
Process 1 billion row of text data as fast as possible

https://www.morling.dev/blog/one-billion-row-challenge/

-----------
# Test result on a shared server with AMD 2950x at 2.2 GHz:
- With 32 threads:
Runtime inside main = 683.349ms
real	0m0.847s
user	0m17.386s
sys	0m1.009s

- With 8 threads:
Runtime inside main = 2048.62ms
real	0m2.204s
user	0m15.212s
sys	0m0.584s

Use sha256sum to check that output is same as reference output
016930801788eb421a15cf6def8ea435b4b47fb5f41df09e02ecdd7fbc9ac92b  result.txt

I used this file (generated by `./create_measurements.sh 1000000000`) to test:
https://drive.google.com/file/d/1HEyNw4M453n0tnuaAm9nwaCiLydQYnpo/view?usp=sharing

To run, just download the file above, extract, then `./run_cpp.sh`

--------------
# Main indeas:
+ Unsigned int overflow hashing (WARNING: WILL FAIL AGAINST SYNTHETIC ANTI-HASH DATA)
+ SIMD to speedup hashing
+ Notice properties of actual data (length of station names, -99.9 <= recorded temperature <= 99.9)
+ Use mmap for fast file reading
+ Multi threads
+ Other random tricks
